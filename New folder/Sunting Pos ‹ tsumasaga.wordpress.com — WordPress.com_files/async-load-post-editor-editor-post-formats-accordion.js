webpackJsonp([0xb89765859024d,0xf5d7f47f5cb74],{0x51167a301c633:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(0xccd53b671ebb6),a=o(r),n=s(5143893728007863),u=o(n),i=s(5880884711457125),l=o(i),d=s(8173823076638946),c=o(d),f=s(5369032381290393),p=o(f),m=s(5896763357248615),P=s(6280957995252369),F=s(0x6d03098cb017e),_=s(0xd661ca516a6fe),g=function(t){function e(){return(0,u.default)(this,e),(0,c.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,l.default)(e,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(t){this.props.siteId!==t.siteId&&this.request(t)}},{key:"request",value:function(t){t.requestingPostFormats||t.requestPostFormats(t.siteId)}},{key:"render",value:function(){return null}}]),e}(m.Component);g.propTypes={siteId:m.PropTypes.number.isRequired,requestingPostFormats:m.PropTypes.bool,requestPostFormats:m.PropTypes.func},e.default=(0,P.connect)(function(t,e){return{requestingPostFormats:(0,F.isRequestingPostFormats)(t,e.siteId)}},{requestPostFormats:_.requestPostFormats})(g),t.exports=e.default},0x6d03098cb017e:function(t,e){"use strict";function s(t,e){return!!t.postFormats.requesting[e]}function o(t,e){return t.postFormats.items[e]||null}Object.defineProperty(e,"__esModule",{value:!0}),e.isRequestingPostFormats=s,e.getPostFormats=o},0xd661ca516a6fe:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(e){return e({type:u.POST_FORMATS_REQUEST,siteId:t}),n.default.undocumented().site(t).postFormatsList().then(function(s){var o=s.formats;e({type:u.POST_FORMATS_RECEIVE,siteId:t,formats:o}),e({type:u.POST_FORMATS_REQUEST_SUCCESS,siteId:t})}).catch(function(s){e({type:u.POST_FORMATS_REQUEST_FAILURE,siteId:t,error:s})})}}Object.defineProperty(e,"__esModule",{value:!0}),e.requestPostFormats=r;var a=s(8478035041892969),n=o(a),u=s(0xd047e5c4c63f8)},4615606665781535:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(0x75ac779472ba8),a=o(r),n=s(6737292591287124),u=o(n),i=s(5896763357248615),l=o(i),d=s(6280957995252369),c=s(0x8ae3881d6e8c2),f=o(c),p=s(4902908805660961),m=o(p),P=s(0x51167a301c633),F=o(P),_=s(474432612430512),g=o(_),h=s(6545150842367702),b=o(h),v=s(0xe6bd8709d6a3c),y=s(0x6d03098cb017e),E=l.default.createClass({displayName:"EditorPostFormatsAccordion",propTypes:{siteId:i.PropTypes.number,site:i.PropTypes.object,post:i.PropTypes.object,postFormats:i.PropTypes.object},getFormatValue:function(){var t=this.props,e=t.post,s=t.site;if(e)return e.format?e.format:g.default.getDefaultPostFormat(s)},getSubtitle:function(){var t=this.getFormatValue(),e=this.props,s=e.post,o=e.postFormats;if(s&&o)return(0,u.default)(o,t)?o[t]:this.translate("Standard",{context:"Post format"})},render:function(){var t=this.props,e=t.className,s=t.post,o=t.postFormats,r=(0,f.default)("editor-post-formats__accordion",e,{"is-loading":!s||!o});return l.default.createElement("div",null,l.default.createElement(F.default,{siteId:this.props.siteId}),!(0,a.default)(o)&&l.default.createElement(m.default,{title:this.translate("Post Format"),subtitle:this.getSubtitle(),className:r},l.default.createElement(b.default,{value:this.getFormatValue()})))}});e.default=(0,d.connect)(function(t){var e=(0,v.getSelectedSiteId)(t);return{siteId:e,site:(0,v.getSelectedSite)(t),postFormats:(0,y.getPostFormats)(t,e)}})(E),t.exports=e.default},6545150842367702:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(872100829608442),a=o(r),n=s(0x3f19c8db6e3b5),u=o(n),i=s(5896763357248615),l=o(i),d=s(6280957995252369),c=s(0xa505046780b0c),f=o(c),p=s(0xae534335c04a6),m=o(p),P=s(0x51167a301c633),F=o(P),_=s(6104353596224629),g=o(_),h=s(5084380759969092),b=s(4691924745409762),v=o(b),y=s(0x93c1fbcbc1a22),E=o(y),S=s(0xe6bd8709d6a3c),T=s(0x6d03098cb017e),x=l.default.createClass({displayName:"EditorPostFormats",propTypes:{siteId:i.PropTypes.number,value:i.PropTypes.string,postFormats:i.PropTypes.object},getDefaultProps:function(){return{value:"standard"}},getSelectedPostFormat:function(){var t=this.props.value,e=!!this.getPostFormats()[t];return e?t:"standard"},getPostFormats:function(){var t={standard:this.translate("Standard",{context:"Post format"})};return this.props.postFormats&&(t=(0,a.default)(t,this.props.postFormats)),t},getPostFormatIcon:function(t){var e={aside:"aside",image:"image",video:"video-camera",quote:"quote",link:"link",gallery:"image-multiple",status:"pencil",audio:"audio",chat:"comment"};return e[t]?e[t]:"posts"},onChange:function(t){g.default.edit({format:t.target.value}),(0,h.recordStat)("post_format_changed"),(0,h.recordEvent)("Changed Post Format",t.target.value)},renderPostFormats:function(){var t=this,e=this.getSelectedPostFormat();return(0,u.default)(this.getPostFormats(),function(s,o){return l.default.createElement("li",{key:o,className:"editor-post-formats__format"},l.default.createElement("label",null,l.default.createElement(m.default,{name:"format",value:o,checked:o===e,onChange:t.onChange}),l.default.createElement("span",{className:"editor-post-formats__format-label"},l.default.createElement("span",{className:"editor-post-formats__format-icon"},l.default.createElement(f.default,{icon:t.getPostFormatIcon(o),size:18})),s)))})},render:function(){return l.default.createElement(v.default,null,l.default.createElement(E.default,{className:"editor-post-formats__help-link"}),l.default.createElement(F.default,{siteId:this.props.siteId}),l.default.createElement("ul",{className:"editor-post-formats"},this.renderPostFormats()))}});e.default=(0,d.connect)(function(t){var e=(0,S.getSelectedSiteId)(t);return{siteId:e,postFormats:(0,T.getPostFormats)(t,e)}})(x),t.exports=e.default}});