webpackJsonp([7233042374288049,0xf5d7f47f5cb74],{0x65734d8902925:function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0x3f19c8db6e3b5),r=o(s),a=n(6718701541658404),c=o(a),l=n(8640881565075096),u=o(l),p=n(5896763357248615),d=o(p),h=n(6280957995252369),f=n(0x8ae3881d6e8c2),g=o(f),C=n(0xa505046780b0c),_=o(C),b=n(0xc98cd4e82fe0b),E=o(b),m=n(0x6a1f76eb0b18e),P=o(m),v=n(6511791376912298),y=o(v),I=n(0x4c59f124aeac8),S=i(I),N=n(0x78aa42617f90d),k=o(N),T=n(5658542232175557),w=o(T),M=n(7186610166862683),x=o(M),L=n(474432612430512),O=o(L),U=n(5084380759969092),z=n(0xe6bd8709d6a3c),B=n(5523398591803755),j=n(0x8f1527a7f80c8),R=n(6007716273106560),D=n(7284660551555503),A=n(0x956a8e02ae2a5),q=n(7097794044456963),Z=n(5790672741810563),F=d.default.createClass({displayName:"EditorSharingPublicizeOptions",connectionPopupMonitor:!1,jetpackModulePopupMonitor:!1,propTypes:{site:p.PropTypes.object,post:p.PropTypes.object,siteId:p.PropTypes.number,isPublicizeEnabled:p.PropTypes.bool,connections:p.PropTypes.array,requestConnections:p.PropTypes.func},hasConnections:function(){return this.props.connections&&this.props.connections.length},componentWillUnmount:function(){this.connectionPopupMonitor&&this.connectionPopupMonitor.off("close",this.onNewConnectionPopupClosed),this.jetpackModulePopupMonitor&&this.jetpackModulePopupMonitor.off("close",this.onModuleConnectionPopupClosed)},newConnectionPopup:function(){var e=void 0;this.props.site&&(e=S.publicizeConnections(this.props.site),this.connectionPopupMonitor||(this.connectionPopupMonitor=new w.default),this.connectionPopupMonitor.open(e),this.connectionPopupMonitor.once("close",this.onNewConnectionPopupClosed))},onNewConnectionPopupClosed:function(){this.props.requestConnections(this.props.site.ID)},newConnection:function(){this.newConnectionPopup(),(0,U.recordStat)("sharing_create_service"),(0,U.recordEvent)("Opened Create New Sharing Service Dialog")},jetpackModulePopup:function(){var e=void 0;this.props.site&&this.props.site.jetpack&&(e=S.jetpackModules(this.props.site,"publicize"),this.jetpackModulePopupMonitor||(this.jetpackModulePopupMonitor=new w.default),this.jetpackModulePopupMonitor.open(e),this.jetpackModulePopupMonitor.once("close",this.onModuleConnectionPopupClosed))},onModuleConnectionPopupClosed:function(){var e=this;this.props.site&&this.props.site.jetpack&&this.props.site.once("change",function(){e.props.site.isModuleActive("publicize")&&e.props.requestConnections(e.props.site.ID)})},renderServices:function(){if(this.props.site&&this.hasConnections())return d.default.createElement(y.default,{post:this.props.post,newConnectionPopup:this.newConnectionPopup})},renderMessage:function(){var e=(0,u.default)(this.props.post,"title"),t=this.hasConnections()?k.default.publicizeSkipped(this.props.post):[],n=this.hasConnections()?this.props.connections.filter(function(e){return t&&-1===t.indexOf(e.keyring_connection_ID)}):[],i=(0,c.default)((0,r.default)(n,"service"),"twitter"),o=i?94:null;if(this.hasConnections())return d.default.createElement(P.default,{message:k.default.publicizeMessage(this.props.post),preview:e,requireCount:i,acceptableLength:o})},renderAddNewButton:function(){if(O.default.userCan("publish_posts",this.props.site))return d.default.createElement(x.default,{borderless:!0,compact:!0,onClick:this.newConnection},d.default.createElement(_.default,{icon:"add"})," ",this.translate("Connect new service"),d.default.createElement("span",{className:"editor-sharing__external-link-indicator"},d.default.createElement(_.default,{icon:"external",size:18})))},renderInfoNotice:function(){if(this.hasConnections()||O.default.userCan("publish_posts",this.props.site))return d.default.createElement("p",{className:"editor-drawer__description"},this.translate("Connect and select social media services to automatically share this post."))},dismissRepublicizeMessage:function(){this.props.dismissShareConfirmation(this.props.siteId,this.props.post.ID)},render:function(){if(!this.props.isPublicizeEnabled)return null;if(this.props.site&&this.props.site.options.publicize_permanently_disabled)return d.default.createElement("div",{className:"editor-sharing__publicize-disabled"},d.default.createElement("p",null,d.default.createElement("span",null,this.translate("Publicize is disabled on this site."))));if(this.props.site&&this.props.site.jetpack&&!this.props.site.isModuleActive("publicize"))return d.default.createElement("div",{className:"editor-sharing__publicize-disabled"},d.default.createElement("p",null,d.default.createElement("span",null,this.translate("Enable the Publicize module to automatically share new posts to social networks."))),d.default.createElement("button",{className:"editor-sharing__jetpack-modules-button button is-secondary",onClick:this.jetpackModulePopup},this.translate("View Module Settings")));var e=(0,g.default)("editor-sharing__publicize-options",{"has-connections":this.hasConnections(),"has-add-option":O.default.userCan("publish_posts",this.props.site)});return d.default.createElement("div",{className:e},this.props.siteId&&d.default.createElement(E.default,{siteId:this.props.siteId}),this.renderInfoNotice(),this.renderServices(),this.renderAddNewButton(),this.renderMessage())}});t.default=(0,h.connect)(function(e){var t=(0,z.getSelectedSiteId)(e),n=(0,A.getCurrentUserId)(e),i=(0,B.getEditorPostId)(e),o=(0,R.getEditedPostValue)(e,t,i,"type"),s=!1!==(0,j.isJetpackModuleActive)(e,t,"publicize")&&(0,D.postTypeSupports)(e,t,o,"publicize");return{siteId:t,isPublicizeEnabled:s,connections:(0,q.getSiteUserConnections)(e,t,n)}},{requestConnections:Z.fetchConnections})(F),e.exports=t.default},0x6a1f76eb0b18e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5896763357248615),o=n(6138260659294409),s=n(6940362979991673),r=n(6104353596224629),a=n(5084380759969092),c=n(8959178503420160),l=n(4910067807891286);t.default=i.createClass({displayName:"PublicizeMessage",propTypes:{message:i.PropTypes.string,preview:i.PropTypes.string,acceptableLength:i.PropTypes.number,requireCount:i.PropTypes.bool,onChange:i.PropTypes.func},getDefaultProps:function(){return{message:"",acceptableLength:140,requireCount:!1}},onChange:function(e){this.props.onChange?this.props.onChange(e.target.value):r.updateMetadata("_wpas_mess",e.target.value)},recordStats:function(){a.recordStat("sharing_message_changed"),a.recordEvent("Publicize Sharing Message Changed")},renderInfoPopover:function(){return i.createElement(l,{className:"publicize-message-counter-info",position:"bottom left",gaEventCategory:"Editor",popoverName:"SharingMessage"},this.translate("The length includes space for the link to your post and an attached image.",{context:"Post editor sharing message counter explanation"}))},renderTextarea:function(){return this.props.requireCount?i.createElement(o,{value:this.props.message,placeholder:this.props.preview,countPlaceholderLength:!0,onChange:this.onChange,showRemainingCharacters:!0,acceptableLength:this.props.acceptableLength,className:"editor-sharing__message-input"},this.renderInfoPopover()):i.createElement(s,{value:this.props.message,placeholder:this.props.preview,onChange:this.onChange,className:"editor-sharing__message-input"})},render:function(){return i.createElement("div",{className:"editor-sharing__publicize-message"},i.createElement("h5",{className:"editor-sharing__message-heading"},this.translate("Customize the message",{context:"Post editor sharing message heading"})),i.createElement(c,{onNewValue:this.recordStats},this.renderTextarea()))}}),e.exports=t.default},0x6b4950294c443:function(e,t,n){"use strict";var i=n(5896763357248615),o=n(0x8ae3881d6e8c2);e.exports=i.createClass({displayName:"EditorFieldset",propTypes:{legend:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.element]).isRequired},renderChildren:function(){return i.Children.map(this.props.children,function(e){return i.createElement("div",{className:"editor-fieldset__option"},e)})},render:function(){return i.createElement("fieldset",{className:o("editor-fieldset",this.props.className)},i.createElement("legend",{className:"editor-fieldset__legend"},this.props.legend),this.renderChildren())}})},5254770885103157:function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(5896763357248615),r=o(s),a=n(6718701541658404),c=o(a),l=n(0xa505046780b0c),u=o(l),p=n(0xbff38eca5e16d),d=o(p),h=n(0x78aa42617f90d),f=o(h),g=n(6104353596224629),C=o(g),_=n(5084380759969092),b=i(_),E=n(5708247199348607),m=o(E),P=n(709335331861514),v=o(P);t.default=r.default.createClass({displayName:"EditorSharingPublicizeConnection",propTypes:{post:s.PropTypes.object,connection:s.PropTypes.object,onRefresh:s.PropTypes.func},getDefaultProps:function(){return{onRefresh:function(){}}},isConnectionSkipped:function(){var e=this.props,t=e.post,n=e.connection;return t&&n&&(0,c.default)(f.default.publicizeSkipped(t),n.keyring_connection_ID)},isConnectionDone:function(){var e=this.props,t=e.post,n=e.connection;return t&&n&&(0,c.default)(f.default.publicizeDone(t),n.keyring_connection_ID)},isDisabled:function(){var e=this.props.connection;return!e||e.read_only},onChange:function(e){var t=this.props.connection;t&&(e.target.checked?(C.default.deleteMetadata("_wpas_skip_"+t.keyring_connection_ID),b.recordStat("sharing_enabled_"+t.service),b.recordEvent("Publicize Service",t.service,"enabled")):(C.default.updateMetadata("_wpas_skip_"+t.keyring_connection_ID,1),b.recordStat("sharing_disabled_"+t.service),b.recordEvent("Publicize Service",t.service,"disabled")))},renderBrokenConnection:function(){var e=this.props.connection;if(e&&"broken"===e.status)return r.default.createElement(m.default,{isCompact:!0,className:"editor-sharing__broken-publicize-connection",status:"is-warning",showDismiss:!1},this.translate("There is an issue connecting to %s.",{args:e.label}),r.default.createElement(v.default,{onClick:this.props.onRefresh},"Reconnect ",r.default.createElement(u.default,{icon:"external",size:18})))},render:function(){var e=this.props.connection;return r.default.createElement("div",{className:"editor-sharing__publicize-connection"},r.default.createElement("label",null,r.default.createElement(d.default,{checked:!this.isConnectionSkipped(),disabled:this.isDisabled(),onChange:this.onChange}),r.default.createElement("span",null,e&&e.external_display)),this.renderBrokenConnection())}}),e.exports=t.default},5442310902992342:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0xccd53b671ebb6),s=i(o),r=n(5143893728007863),a=i(r),c=n(5880884711457125),l=i(c),u=n(8173823076638946),p=i(u),d=n(5369032381290393),h=i(d),f=n(5896763357248615),g=n(6280957995252369),C=n(7097794044456963),_=n(5790672741810563),b=n(0xe6bd8709d6a3c),E=function(e){function t(){return(0,a.default)(this,t),(0,p.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){!this.props.requestingConnections&&this.props.siteId&&this.props.requestConnections(this.props.siteId)}},{key:"componentDidUpdate",value:function(e){var t=e.siteId;this.props.siteId&&t!==this.props.siteId&&!this.props.requestingConnections&&this.props.requestConnections(this.props.siteId)}},{key:"render",value:function(){return null}}]),t}(f.Component);E.propTypes={requestConnections:f.PropTypes.func,requestingConnections:f.PropTypes.bool,selectedSite:f.PropTypes.bool,siteId:f.PropTypes.number},E.defaultProps={requestConnections:function(){},requestingConnections:!1,selectedSite:!1,siteId:0},t.default=(0,g.connect)(function(e,t){var n=t.siteId,i=t.selectedSite;return n=n||i&&(0,b.getSelectedSiteId)(e),{requestingConnections:(0,C.isFetchingConnections)(e,n),siteId:n}},{requestConnections:_.fetchConnections})(E),e.exports=t.default},5658542232175557:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(){this.intervals={},this.monitorInterval=null}var s=n(477028190620861),r=i(s),a=n(0xf2ce944f0fc89);a(o.prototype),o.prototype.open=function(e,t,n){var i;return t=t||Date.now(),i=window.open(e,t,n),this.startMonitoring(t,i),this},o.prototype.getScreenCenterSpecs=function(e,t){var n="undefined"!=typeof window.screenTop?window.screenTop:window.screenY,i="undefined"!=typeof window.screenLeft?window.screenLeft:window.screenX;return["width="+e,"height="+t,"top="+(n+window.innerHeight/2-t/2),"left="+(i+window.innerWidth/2-e/2)].join()},o.prototype.isOpen=function(e){var t=!1;try{t=this.intervals[e]&&this.intervals[e].closed}catch(e){}return!t},o.prototype.checkStatus=function(){for(var e in this.intervals)this.intervals.hasOwnProperty(e)&&!this.isOpen(e)&&(this.emit("close",e),delete this.intervals[e]);0===(0,r.default)(this.intervals).length&&(clearInterval(this.monitorInterval),delete this.monitorInterval)},o.prototype.startMonitoring=function(e,t){this.monitorInterval||(this.monitorInterval=setInterval(this.checkStatus.bind(this),100)),this.intervals[e]=t},e.exports=o},5790672741810563:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:m.PUBLICIZE_SHARE_DISMISS,siteId:e,postId:t}}function s(e,t,n,i){return function(o){return o({type:m.PUBLICIZE_SHARE,siteId:e,postId:t,skippedConnections:n,message:i}),new _.default(function(s){E.default.undocumented().publicizePost(e,t,i,n,function(n,i){o(n||!i.success?{type:m.PUBLICIZE_SHARE_FAILURE,siteId:e,postId:t,error:n}:{type:m.PUBLICIZE_SHARE_SUCCESS,siteId:e,postId:t}),s()})})}}function r(e){return function(t){return t({type:m.PUBLICIZE_CONNECTIONS_REQUEST,siteId:e}),E.default.undocumented().siteConnections(e).then(function(n){t(h(e,n)),t({type:m.PUBLICIZE_CONNECTIONS_REQUEST_SUCCESS,siteId:e})}).catch(function(n){return t({type:m.PUBLICIZE_CONNECTIONS_REQUEST_FAILURE,siteId:e,error:n})})}}function a(e,t){return function(n){return n({type:m.PUBLICIZE_CONNECTION_REQUEST,connectionId:t,siteId:e}),E.default.undocumented().site(e).getConnection(t).then(function(i){n({type:m.PUBLICIZE_CONNECTION_RECEIVE,connection:i,siteId:e}),n({type:m.PUBLICIZE_CONNECTION_REQUEST_SUCCESS,connectionId:t,siteId:e})}).catch(function(i){return n({type:m.PUBLICIZE_CONNECTION_REQUEST_FAILURE,connectionId:t,error:i,siteId:e})})}}function c(e,t,n){return function(i){return E.default.undocumented().createConnection(t,e,n,{shared:!1}).then(function(e){return i({type:m.PUBLICIZE_CONNECTION_CREATE,connection:e})}).catch(function(e){return i(p(e))})}}function l(e,t){return function(n){return E.default.undocumented().updateConnection(e.site_ID,e.ID,t).then(function(e){return n({type:m.PUBLICIZE_CONNECTION_UPDATE,connection:e})}).catch(function(t){return n({type:m.PUBLICIZE_CONNECTION_UPDATE_FAILURE,error:(0,g.default)({},t,{label:e.label})})})}}function u(e){return function(t){return E.default.undocumented().deleteSiteConnection(e.site_ID,e.ID).then(function(){return t(d(e))}).catch(function(n){n&&404===n.statusCode&&t(d(e)),t({type:m.PUBLICIZE_CONNECTION_DELETE_FAILURE,error:(0,g.default)({},n,{label:e.label})})})}}function p(e){return{type:m.PUBLICIZE_CONNECTION_CREATE_FAILURE,error:e}}function d(e){return{type:m.PUBLICIZE_CONNECTION_DELETE,connection:e}}function h(e,t){return{type:m.PUBLICIZE_CONNECTIONS_RECEIVE,siteId:e,data:t}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(5630966280090368),g=i(f),C=n(6632847112607300),_=i(C);t.dismissShareConfirmation=o,t.sharePost=s,t.fetchConnections=r,t.fetchConnection=a,t.createSiteConnection=c,t.updateSiteConnection=l,t.deleteSiteConnection=u,t.failCreateConnection=p,t.deleteConnection=d,t.receiveConnections=h;var b=n(8478035041892969),E=i(b),m=n(0xd047e5c4c63f8)},5841188419929091:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0x83e42e33e67df),s=i(o),r=n(6718701541658404),a=i(r),c=n(5896763357248615),l=i(c),u=n(0x8ae3881d6e8c2),p=i(u),d=n(6280957995252369),h=n(4902908805660961),f=i(h),g=n(5862851293117563),C=i(g),_=n(0x78aa42617f90d),b=i(_),E=n(8538234710496504),m=i(E),P=n(4691924745409762),v=i(P),y=n(0x5dd72de17825d),I=i(y),S=n(7123518912576379),N=n(5442310902992342),k=i(N),T=n(0x956a8e02ae2a5),w=n(0xe6bd8709d6a3c),M=n(5523398591803755),x=n(6007716273106560),L=n(0x8f1527a7f80c8),O=n(7097794044456963),U=n(6647034042708241),z=i(U),B=n(0x5228ca0f10485),j=i(B),R=n(4725747483787960),D=l.default.createClass({displayName:"EditorSharingAccordion",propTypes:{site:c.PropTypes.object,post:c.PropTypes.object,isNew:c.PropTypes.bool,connections:c.PropTypes.array,hasBrokenConnection:c.PropTypes.bool,isPublicizeEnabled:c.PropTypes.bool,isSharingActive:c.PropTypes.bool,isLikesActive:c.PropTypes.bool},getSubtitle:function(){var e=this.props,t=e.isPublicizeEnabled,n=e.post,i=e.connections;if(t&&n&&i){var o=b.default.publicizeSkipped(n);return(0,s.default)(i,function(e,t){var n=t.keyring_connection_ID,i=t.label;return(0,a.default)(o,n)||(0,a.default)(e,i)||e.push(i),e},[]).join(", ")}},renderShortUrl:function(){var e=(0,p.default)("editor-sharing__shortlink",{"is-standalone":this.hideSharing()});return I.default.isPublished(this.props.post)?l.default.createElement("div",{className:e},l.default.createElement("label",{className:"editor-sharing__shortlink-label",htmlFor:"shortlink-field"},this.translate("Shortlink")),l.default.createElement(C.default,{className:"editor-sharing__shortlink-field",id:"shortlink-field",value:this.props.post.short_URL,size:this.props.post.short_URL&&this.props.post.short_URL.length,readOnly:!0,selectOnFocus:!0})):null},hideSharing:function(){var e=this.props,t=e.isSharingActive,n=e.isLikesActive,i=e.isPublicizeEnabled;return!t&&!n&&!i},render:function(){var e=this.hideSharing(),t=(0,p.default)("editor-sharing__accordion",this.props.className,{"is-loading":!this.props.post||!this.props.connections});if(e&&!I.default.isPublished(this.props.post))return null;var n=void 0;return this.props.hasBrokenConnection&&(n={type:"warning",text:this.translate("A broken connection requires repair",{comment:"Publicize connection deauthorized, needs user action to fix"}),url:"/sharing/"+this.props.site.slug,position:(0,S.isMobile)()?"top left":"top",onClick:this.props.onStatusClick}),l.default.createElement(f.default,{title:this.translate("Sharing"),subtitle:this.getSubtitle(),status:n,className:t},this.props.site&&l.default.createElement(k.default,{siteId:this.props.site.ID}),l.default.createElement(v.default,null,!e&&l.default.createElement(m.default,{site:this.props.site,post:this.props.post}),this.renderShortUrl()))}});t.default=(0,d.connect)(function(e){var t=(0,w.getSelectedSiteId)(e),n=(0,T.getCurrentUserId)(e),i=(0,M.getEditorPostId)(e),o=(0,x.getEditedPostValue)(e,t,i,"type"),s=!1!==(0,L.isJetpackModuleActive)(e,t,"sharedaddy"),r=!1!==(0,L.isJetpackModuleActive)(e,t,"likes");return{connections:(0,O.getSiteUserConnections)(e,t,n),hasBrokenConnection:(0,z.default)(e,t,n),isSharingActive:s,isLikesActive:r,isPublicizeEnabled:(0,j.default)(e,t,o)}},{onStatusClick:function(){return(0,R.recordGoogleEvent)("Editor","Clicked Accordion Broken Status")}})(D),e.exports=t.default},6138260659294409:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5630966280090368),s=i(o),r=n(5896763357248615),a=i(r),c=n(0x8ae3881d6e8c2),l=i(c),u=n(5059747709250767),p=i(u),d=n(0x45d24eaab7654),h=i(d),f=n(6940362979991673),g=i(f);t.default=a.default.createClass({displayName:"CountedTextarea",propTypes:{value:a.default.PropTypes.string,placeholder:a.default.PropTypes.string,countPlaceholderLength:a.default.PropTypes.bool,onChange:a.default.PropTypes.func,acceptableLength:a.default.PropTypes.number,showRemainingCharacters:a.default.PropTypes.bool},getDefaultProps:function(){return{value:"",placeholder:"",countPlaceholderLength:!1,onChange:h.default,showRemainingCharacters:!1}},renderCountPanel:function(){var e=this.props.value.length;!e&&this.props.countPlaceholderLength&&(e=this.props.placeholder.length);var t=void 0;return t=this.props.showRemainingCharacters&&this.props.acceptableLength?this.translate("%d character remaining","%d characters remaining",{context:"Input length",args:[this.props.acceptableLength-e],count:this.props.acceptableLength-e}):this.translate("%d character","%d characters",{context:"Input length",args:[e],count:e}),a.default.createElement("div",{className:"counted-textarea__count-panel"},t,this.props.children)},render:function(){var e=(0,l.default)("counted-textarea",this.props.className,{"is-exceeding-acceptable-length":this.props.acceptableLength&&this.props.value.length>this.props.acceptableLength});return a.default.createElement("div",{className:e},a.default.createElement(g.default,(0,s.default)({},(0,p.default)(this.props,"className","acceptableLength","showRemainingCharacters","children","countPlaceholderLength"),{className:"counted-textarea__input"})),this.renderCountPanel())}}),e.exports=t.default},6475110404642009:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0xc729f06ce7488),s=i(o),r=n(5896763357248615),a=i(r),c=n(6280957995252369),l=n(0x6b4950294c443),u=i(l),p=n(0xbff38eca5e16d),d=i(p),h=n(6104353596224629),f=i(h),g=n(5084380759969092),C=n(5523398591803755),_=n(0xe6bd8709d6a3c),b=n(0x8f1527a7f80c8),E=a.default.createClass({displayName:"SharingLikeOptions",propTypes:{site:a.default.PropTypes.object,post:a.default.PropTypes.object,isSharingButtonsEnabled:a.default.PropTypes.bool,isLikesEnabled:a.default.PropTypes.bool,isNew:a.default.PropTypes.bool},isShowingSharingButtons:function(){return this.props.post&&"sharing_enabled"in this.props.post?this.props.post.sharing_enabled:!this.props.site||!this.props.isNew||this.props.site.options.default_sharing_status},isShowingLikeButton:function(){return this.props.post&&"likes_enabled"in this.props.post?this.props.post.likes_enabled:!this.props.site||!this.props.isNew||this.props.site.options.default_likes_enabled},renderSharingButtonField:function(){if(this.props.isSharingButtonsEnabled)return a.default.createElement("label",null,a.default.createElement(d.default,{name:"sharing_enabled",checked:this.isShowingSharingButtons(),onChange:this.onChange}),a.default.createElement("span",null,this.translate("Show Sharing Buttons",{context:"Post Editor"})))},renderLikesButtonField:function(){if(this.props.isLikesEnabled)return a.default.createElement("label",null,a.default.createElement(d.default,{name:"likes_enabled",checked:this.isShowingLikeButton(),onChange:this.onChange}),a.default.createElement("span",null,this.translate("Show Like Button",{context:"Post Editor"})))},onChange:function(e){f.default.edit((0,s.default)({},e.target.name,e.target.checked)),this.recordStats(e)},recordStats:function(e){var t=e.target.name,n="sharing_enabled"===e.target.name?"Sharing Buttons":"Like Button";t+=e.target.checked?"_enabled":"_disabled",n+=e.target.checked?" Enabled":" Disabled",(0,g.recordStat)(t),(0,g.recordEvent)(n)},render:function(){return this.props.isSharingButtonsEnabled||this.props.isLikesEnabled?a.default.createElement(u.default,{className:"editor-sharing__sharing-like-options",legend:this.translate("Sharing Buttons & Likes")},this.renderSharingButtonField(),this.renderLikesButtonField()):null}});t.default=(0,c.connect)(function(e){var t=(0,_.getSelectedSiteId)(e);return{isSharingButtonsEnabled:!1!==(0,b.isJetpackModuleActive)(e,t,"sharedaddy"),isLikesEnabled:!1!==(0,b.isJetpackModuleActive)(e,t,"likes"),isNew:(0,C.isEditorNewPost)(e)}})(E),e.exports=t.default},6511791376912298:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EditorSharingPublicizeServices=void 0;var o=n(0x3f19c8db6e3b5),s=i(o),r=n(0xd5195cb3051cd),a=i(r),c=n(5896763357248615),l=i(c),u=n(6280957995252369),p=n(5254770885103157),d=i(p),h=n(0x956a8e02ae2a5),f=n(0xe6bd8709d6a3c),g=n(7097794044456963),C=t.EditorSharingPublicizeServices=function(e){var t=e.connections,n=e.post,i=e.newConnectionPopup;return l.default.createElement("ul",{className:"editor-sharing__publicize-services"},(0,s.default)((0,a.default)(t,"label"),function(e,t){return l.default.createElement("li",{key:t,className:"editor-sharing__publicize-service"},l.default.createElement("h5",{className:"editor-sharing__publicize-service-heading"},t),e.map(function(e){return l.default.createElement(d.default,{key:e.ID,post:n,connection:e,onRefresh:i})}))}))};C.propTypes={connections:c.PropTypes.array.isRequired,post:c.PropTypes.object,newConnectionPopup:c.PropTypes.func.isRequired},t.default=(0,u.connect)(function(e){var t=(0,f.getSelectedSiteId)(e),n=(0,h.getCurrentUserId)(e);return{connections:(0,g.getSiteUserConnections)(e,t,n)}})(C)},8538234710496504:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.post,n=e.site;return r.default.createElement("div",{className:"editor-sharing"},r.default.createElement(c.default,{post:t,site:n}),r.default.createElement(u.default,{post:t,site:n}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s=n(5896763357248615),r=i(s),a=n(0x65734d8902925),c=i(a),l=n(6475110404642009),u=i(l);o.propTypes={site:s.PropTypes.object,post:s.PropTypes.object},e.exports=t.default}});